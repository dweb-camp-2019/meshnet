<!DOCTYPE html>
<html lang="en">
	<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>2.2 VLAN Managed Switch</title>
  <meta name="description" content="Design, build, and stewardship of the participatory network">

	<link rel="icon" href="/meshnet/assets/images/favicon.ico">
  <link rel="canonical" href="https://dweb-camp-2019.github.io/meshnet/2.2-vlan-managed-switch.html">

	<link rel="stylesheet" href="/meshnet/assets/css/docs.css">

</head>

	<body>
		<div class="wrapper">
			<sidebar class="sidebar" id="sidebar">
	<div class="sidebar-mobile">
		<img src="/meshnet/assets/images/menu.svg" class="menu-icon" id="menu" />
		<img src="/meshnet/assets/images/close.svg" class="close-icon" id="close" />
	</div>
	<div class="search">
	<input type="text" class="search-input" id="search-input" placeholder="Type to search" />
</div>

	<div class="sidebar-main">
		<ul class="navigation" id="navigation">																						<li>				<a class="" href="/meshnet/">					1.0 Project Overview				</a>			</li>								<li>				<a class="" href="/meshnet/2.0-network-design.html">					2.0 Network Design				</a>			</li>								<li>				<a class="" href="/meshnet/2.1-espressobin-router.html">					2.1 ESPRESSObin Router				</a>			</li>								<li>				<a class="active" href="/meshnet/2.2-vlan-managed-switch.html">					2.2 VLAN Managed Switch				</a>			</li>								<li>				<a class="" href="/meshnet/2.3-point-to-point-mesh-radios.html">					2.3 Point-to-Point Mesh Radios				</a>			</li>								<li>				<a class="" href="/meshnet/2.4-access-point-radios.html">					2.4 Access Point Radios				</a>			</li>								<li>				<a class="" href="/meshnet/2.5-client-poe-switches.html">					2.5 Client PoE Switches				</a>			</li>								<li>				<a class="" href="/meshnet/3.0-social-experience.html">					3.0 Social Experience				</a>			</li>								<li>				<a class="" href="/meshnet/3.1-collaborative-planning.html">					3.1 Collaborative Planning				</a>			</li>								<li>				<a class="" href="/meshnet/3.2-network-stewards.html">					3.2 Network Stewards				</a>			</li>								<li>				<a class="" href="/meshnet/3.3-incident-response.html">					3.3 Incident Response				</a>			</li>								<li>				<a class="" href="/meshnet/3.4-local-services.html">					3.4 Local Services				</a>			</li>								<li>				<a class="" href="/meshnet/3.5-retrospective.html">					3.5 Retrospective				</a>			</li>								<li>				<a class="" href="/meshnet/4.0-planning-notes.html">					4.0 Planning Notes				</a>			</li>								<li>				<a class="" href="/meshnet/4.1-client-device-roaming.html">					4.1 Client Device Roaming				</a>			</li>								<li>				<a class="" href="/meshnet/4.2-babel-wireguard-mesh.html">					4.2 Babel + WireGuard Mesh				</a>			</li>								<li>				<a class="" href="/meshnet/4.3-site-survey.html">					4.3 Site Survey				</a>			</li>								<li>				<a class="" href="/meshnet/4.4-planning-questions.html">					4.4 Planning Questions				</a>			</li>								<li>				<a class="" href="/meshnet/5.0-additional-resources.html">					5.0 Additional Resources				</a>			</li>								<li>				<a class="" href="/meshnet/5.1-application-testnet.html">					5.1 Application Testnet				</a>			</li>								<li>				<a class="" href="/meshnet/5.2-hardware-inventory.html">					5.2 Hardware Inventory				</a>			</li>								<li>				<a class="" href="/meshnet/5.3-graphic-assets.html">					5.3 Graphic Assets				</a>			</li>								<li>				<a class="" href="/meshnet/gallery/2019/">					5.4 Photo Gallery				</a>			</li>			</ul>

		<ul id="search-results" class="navigation"></ul>

	</div>
</sidebar>

			<main class="content">
				<div class="inner">
					<h2 id="22-vlan-managed-switch">2.2 VLAN Managed Switch</h2>

<p>This device is only necessary for <code>relay</code> and <code>gateway</code> nodes.</p>

<p>We configured the ESPRESSObin to have only one <code>wan</code> port. Babel needs to distinguish different network interfaces in order to create the intended network topology and compute route metrics between the different links, then make routing decisions accordingly. So we will make virtual interfaces by tagged each mesh radio with a different VLAN ID, essentially multiplexing differently tagged packets into <code>wan</code> which then seperates them out on <code>wan.1</code> <code>wan.2</code> <code>wan.3</code> and <code>wan.4</code> on the ESPRESSObin, and what Babel sees are seperate network interfaces as if the ESPRESSObin has 4 <code>wan</code> ports.</p>

<p><img src="images/vlan-switch.jpg" alt="vlan-switch" /></p>

<h3 id="netgear-gs305e-gigabit-managed-switch">NETGEAR GS305E Gigabit Managed Switch</h3>

<ol>
  <li>
    <p>Connect to the GS305E default IP and login to the admin interface</p>
  </li>
  <li>
    <p>Enable <code>Basic 802.1Q VLAN Status</code> then configure the following VLAN ID settings:</p>

    <table>
      <thead>
        <tr>
          <th style="text-align: left">port</th>
          <th style="text-align: center">1</th>
          <th style="text-align: center">2</th>
          <th style="text-align: center">3</th>
          <th style="text-align: center">4</th>
          <th style="text-align: center">5</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: left">VLAN ID</td>
          <td style="text-align: center">1</td>
          <td style="text-align: center">2</td>
          <td style="text-align: center">3</td>
          <td style="text-align: center">4</td>
          <td style="text-align: center">all</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>Apply the configurations, then wait 30 seconds to ensure the changes are saved</p>
  </li>
  <li>
    <p>Connect <code>port 5</code> to the ESPRESSObin <code>wan</code> port, and use the VLAN tagged ports for point-to-point radios or ethernet cables that connect mesh nodes</p>
  </li>
  <li>
    <p>If this is an Internet Gatway node, connect your Internet backhaul to <code>port 4</code> (since we have <code>wan.4</code> configured to be the Internet route for Internet Gateway ESPRESSObins)</p>
  </li>
</ol>


				</div>
			</main>
		</div>
		<script src="/meshnet/assets/js/zepto.min.js"></script>
<script src="/meshnet/assets/js/lunar.min.js"></script>
<script src="/meshnet/assets/js/prism.min.js"></script>
<script src="/meshnet/assets/js/database.js"></script>
<script src="/meshnet/assets/js/search.js"></script>
<script src="/meshnet/assets/js/mobile-navigation.js"></script>

	</body>
</html>
