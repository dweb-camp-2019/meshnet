<!DOCTYPE html>
<html lang="en">
	<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>4.0 Planning Notes</title>
  <meta name="description" content="Design, build, and stewardship of the participatory network">

	<link rel="icon" href="/meshnet/assets/images/favicon.ico">
  <link rel="canonical" href="https://dweb-camp-2019.github.io/meshnet/4.0-planning-notes.html">

	<link rel="stylesheet" href="/meshnet/assets/css/docs.css">

</head>

	<body>
		<div class="wrapper">
			<sidebar class="sidebar" id="sidebar">
	<div class="sidebar-mobile">
		<img src="/meshnet/assets/images/menu.svg" class="menu-icon" id="menu" />
		<img src="/meshnet/assets/images/close.svg" class="close-icon" id="close" />
	</div>
	<div class="search">
	<input type="text" class="search-input" id="search-input" placeholder="Type to search" />
</div>

	<div class="sidebar-main">
		<ul class="navigation" id="navigation">																						<li>				<a class="" href="/meshnet/">					1.0 Project Overview				</a>			</li>								<li>				<a class="" href="/meshnet/2.0-network-design.html">					2.0 Network Design				</a>			</li>								<li>				<a class="" href="/meshnet/2.1-espressobin-router.html">					2.1 ESPRESSObin Router				</a>			</li>								<li>				<a class="" href="/meshnet/2.2-vlan-managed-switch.html">					2.2 VLAN Managed Switch				</a>			</li>								<li>				<a class="" href="/meshnet/2.3-point-to-point-mesh-radios.html">					2.3 Point-to-Point Mesh Radios				</a>			</li>								<li>				<a class="" href="/meshnet/2.4-access-point-radios.html">					2.4 Access Point Radios				</a>			</li>								<li>				<a class="" href="/meshnet/2.5-client-poe-switches.html">					2.5 Client PoE Switches				</a>			</li>								<li>				<a class="" href="/meshnet/3.0-social-experience.html">					3.0 Social Experience				</a>			</li>								<li>				<a class="" href="/meshnet/3.1-collaborative-planning.html">					3.1 Collaborative Planning				</a>			</li>								<li>				<a class="" href="/meshnet/3.2-network-stewards.html">					3.2 Network Stewards				</a>			</li>								<li>				<a class="" href="/meshnet/3.3-incident-response.html">					3.3 Incident Response				</a>			</li>								<li>				<a class="" href="/meshnet/3.4-local-services.html">					3.4 Local Services				</a>			</li>								<li>				<a class="" href="/meshnet/3.5-retrospective.html">					3.5 Retrospective				</a>			</li>								<li>				<a class="active" href="/meshnet/4.0-planning-notes.html">					4.0 Planning Notes				</a>			</li>								<li>				<a class="" href="/meshnet/4.1-client-device-roaming.html">					4.1 Client Device Roaming				</a>			</li>								<li>				<a class="" href="/meshnet/4.2-babel-wireguard-mesh.html">					4.2 Babel + WireGuard Mesh				</a>			</li>								<li>				<a class="" href="/meshnet/4.3-site-survey.html">					4.3 Site Survey				</a>			</li>								<li>				<a class="" href="/meshnet/4.4-planning-questions.html">					4.4 Planning Questions				</a>			</li>								<li>				<a class="" href="/meshnet/5.0-additional-resources.html">					5.0 Additional Resources				</a>			</li>								<li>				<a class="" href="/meshnet/5.1-application-testnet.html">					5.1 Application Testnet				</a>			</li>								<li>				<a class="" href="/meshnet/5.2-hardware-inventory.html">					5.2 Hardware Inventory				</a>			</li>								<li>				<a class="" href="/meshnet/5.3-graphic-assets.html">					5.3 Graphic Assets				</a>			</li>								<li>				<a class="" href="/meshnet/gallery/2019/">					5.4 Photo Gallery				</a>			</li>			</ul>

		<ul id="search-results" class="navigation"></ul>

	</div>
</sidebar>

			<main class="content">
				<div class="inner">
					<h2 id="40-planning-notes">4.0 Planning Notes</h2>

<p>This section contains preliminary plans for the network design, when all the information we had was a satellite image of the potential venue for DWeb Camp 2019. Many things about the network has changed since then as more information becomes available, such as the event areas, existing structures, number of participants, power availability, device availability, financial budgets, and results of technical discussions and experimentations. This section presents some of these early planning summaries to give an idea of our network during its planning stages.</p>

<h3 id="hardware">Hardware</h3>

<p><img src="images/access-point-positions.png" alt="access-point-positions" /></p>

<p>The diagram above is the area map, with preliminary positions of <em>mesh nodes</em> that together form the local mesh network.
Each node has a 100 m radius circle around it, representing the region where client devices are expected to form a good connection with the node’s access point.
There is a larger 150 m radius circle around where devices may be able to connect. The green dotted lines represent point-to-point links between nodes that together form the local mesh network.</p>

<p>Each node is an aggregate of multiple pieces of equipment, which may include:</p>

<ul>
  <li>Radio for directional link</li>
  <li>Radio for access point</li>
  <li>Network switch, router, and application server</li>
  <li>Power equipment, mounts, and cables</li>
</ul>

<p>Some nodes will have interfaces that allow other devices to be plugged in to offer locally-hosted services on the network. 
One or more nodes will also serve as the Internet gateway for this local network.</p>

<h4 id="radio-for-directional-link">Radio for directional link</h4>

<p>Each green dotted line represents a directional link formed by a pair of <a href="https://mikrotik.com/product/sxtsq_5_ac">MikroTik SXTsq 5 ac</a>, <a href="https://docs.nycmesh.net/hardware/sxtsqg5acd/">used in NYC Mesh</a>, supporting link speeds at 800+ Mbps.
These devices will run stock firmware.
Where possible, we can also link two nodes with a long ethernet cable.</p>

<p>One alternative option is the 60 GHz <a href="https://mikrotik.com/product/wireless_wire">MikroTik Wireless Wire</a> or <a href="https://mikrotik.com/product/wireless_wire_dish">MikroTik Wireless Wire Dish</a>, but we will start with the SXTsq 5 ac devices at lower costs.</p>

<h4 id="radio-for-access-point">Radio for access point</h4>

<p>Omnidirectional access points are what client devices will connect to, we will use a <a href="https://mikrotik.com/product/rbomnitikpg_5hacd">MikroTik OmniTIK 5 PoE ac</a>, <a href="https://docs.nycmesh.net/hardware/mikrotikomnitik5ac/">used in NYC Mesh</a>, as the standard device to connect 50+ clients at a time and deliver 800+ Mbps aggregate speeds.
These devices will run stock firmware.</p>

<p>An alternative device we can use as access point is the <a href="https://mikrotik.com/product/RB921GS-5HPacD-15S">MikroTik mANTBox 15s</a> sector, in areas where only one side of the mount point needs service.</p>

<h4 id="network-switch-router-and-application-server">Network switch, router, and application server</h4>

<p>The <a href="https://www.solid-run.com/product/SRM6828S00D01GE000P01CE/">SolidRun ClearFog Pro</a> will be used as gigabit network switch and router.
It has 7 gigabit ports, used to connect with the directional and access point radios, Internet gateways, as well as devices offering local services to the network (e.g. Raspberry Pi running a <a href="https://www.scuttlebutt.nz">Scuttlebutt</a> Pub Server or <a href="https://github.com/amark/gun">GUN</a> peer, or devices running <a href="https://datproject.org">Dat</a> and <a href="https://ipfs.io">IPFS</a> to provide the network with distributed storage capacity).
In the case that more ports are needed, Internet Archive has Ubiquiti ToughSwitch and other 48-port switches to provide.
The ClearFog Pro has a 1.6 GHz ARM processor and 1 GB RAM, so we can run some applications directly on the board that are traditionally unable to run on routers.</p>

<p>We also hope to connect <a href="https://librerouter.org">LibreRouter</a> devices to the network.
It is a 802.11n device and does not have the same application processing power, but it includes two 5 GHz directional radios and a 2.4 GHz access point, and it is an all-in-one and open-source device perfect for the environment we are working with.</p>

<h4 id="power-equipment-mounts-and-cables">Power equipment, mounts, and cables</h4>

<p>Some areas may not have a source of power.
These areas will have to be identified when we survey the site, then we can plan for alternatives.
If no high point is available, we may have to install 5-6 m tall poles to mount the wireless equipment.
We will also bring large spools of ethernet cables, and tools to make them so everyone can participate in building from basic components.</p>

<h3 id="prototype">Prototype</h3>

<p>We will create a prototype setup over April and May to validate the devices we chose, and try running various mesh routing software on them.</p>

<h4 id="equipment-list">Equipment list</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Device</th>
      <th style="text-align: center">Quantity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><a href="https://mikrotik.com/product/sxtsq_5_ac">MikroTik SXTsq 5 ac</a></td>
      <td style="text-align: center">2</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="https://mikrotik.com/product/rbomnitikpg_5hacd">MikroTik OmniTIK 5 PoE ac</a></td>
      <td style="text-align: center">1</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="https://mikrotik.com/product/RB921GS-5HPacD-15S">MikroTik mANTBox 15s</a></td>
      <td style="text-align: center">1</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="https://www.solid-run.com/product/SRM6828S00D01GE000P01CE/">SolidRun ClearFog Pro</a></td>
      <td style="text-align: center">2</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="https://librerouter.org">LibreRouter</a></td>
      <td style="text-align: center">3</td>
    </tr>
    <tr>
      <td style="text-align: left">Ubiquiti ToughSwitch</td>
      <td style="text-align: center">available</td>
    </tr>
    <tr>
      <td style="text-align: left">Raspberry Pi 3B+</td>
      <td style="text-align: center">available</td>
    </tr>
    <tr>
      <td style="text-align: left">Orange Pi Zero</td>
      <td style="text-align: center">available</td>
    </tr>
  </tbody>
</table>

<h4 id="routing-protocol">Routing protocol</h4>

<p>We will start with <a href="https://github.com/althea-mesh/babeld">Althea’s flavour of Babel</a> (with <a href="https://www.wireguard.com/">WireGuard</a>).
There are other mesh protocols such as <a href="https://www.kernel.org/doc/html/v4.15/networking/batman-adv.html">batman-adv</a> and <a href="https://bmx6.net/projects/bmx6">BMX6</a> that may also be tested.
Other more experimental protocols such as <a href="https://github.com/cjdelisle/cjdns">cjdns</a> and <a href="https://yggdrasil-network.github.io/">Yggdrasil</a> may be run in parallel to or in parts of the network.</p>


				</div>
			</main>
		</div>
		<script src="/meshnet/assets/js/zepto.min.js"></script>
<script src="/meshnet/assets/js/lunar.min.js"></script>
<script src="/meshnet/assets/js/prism.min.js"></script>
<script src="/meshnet/assets/js/database.js"></script>
<script src="/meshnet/assets/js/search.js"></script>
<script src="/meshnet/assets/js/mobile-navigation.js"></script>

	</body>
</html>
